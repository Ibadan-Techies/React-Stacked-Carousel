{"version":3,"file":"index.js","sources":["../src/components/StackedCarousel.tsx"],"sourcesContent":["import * as React from 'react'\nimport './stackedCarousel.scss'\n\nconst { useState, useRef, useEffect } = React\nexport function ReactStackedPhotos ({\n  children,\n  width,\n  height\n}: {\n  width?: number\n  height?: number\n  children: React.ReactElement\n}): JSX.Element {\n  const [isHovering, setIsHovering] = useState(false)\n  const imagesRef = useRef<\n  HTMLDivElement & { lastElementChild: HTMLElement | null }\n  >(null)\n  const timerRef1 = useRef<ReturnType<typeof setTimeout> | string>()\n  const timerRef2 = useRef<ReturnType<typeof setTimeout> | string>()\n\n  const [active, setActive] = useState(false)\n  const [last, setLast] = useState<DOMTokenList | null | undefined>(null)\n\n  const handleMouseOver = (): void => {\n    setIsHovering((prev) => !prev)\n  }\n\n  useEffect(() => {\n    setLast(\n      imagesRef.current != null\n        ? imagesRef.current.lastElementChild?.classList\n        : null\n    )\n    return () => {\n      clearTimeout(timerRef1.current)\n      clearTimeout(timerRef2.current)\n    }\n  }, [])\n\n  const handleOnClick = (event: React.MouseEvent<HTMLDivElement>): void => {\n    if (!active) {\n      setActive(true)\n\n      const clickTarget = imagesRef.current\n      // What side of the element was clicked. Read more\n      // https://stackoverflow.com/questions/15685708/determining-if-mouse-click-happened-in-left-or-right-half-of-div\n      const clickTargetWidth = clickTarget?.offsetWidth\n      const xCoordInClickTarget =\n        event?.clientX - Number(clickTarget?.offsetLeft)\n\n      let sideClicked = ''\n      if (Number(clickTargetWidth) / 2 > xCoordInClickTarget) {\n        // clicked left\n        sideClicked = 'slide-left'\n        last?.add('slide-left')\n      } else {\n        // clicked right\n        sideClicked = 'slide-right'\n        last?.add('slide-right')\n      }\n\n      timerRef1.current = setTimeout(function () {\n        last?.remove(sideClicked)\n        last?.add('back')\n\n        timerRef2.current = setTimeout(function () {\n          imagesRef.current?.insertBefore(\n            imagesRef.current?.lastElementChild as Node,\n            imagesRef.current?.firstElementChild\n          )\n          last?.remove('back')\n          setLast(imagesRef.current?.lastElementChild?.classList)\n          setActive(false)\n        }, 400)\n      }, 500)\n    }\n  }\n  return (\n    <div\n      className=\"_9123_imageWrapper\"\n      ref={imagesRef}\n      onClick={handleOnClick}\n      style={{ width, height }}\n    >\n      {React.Children.map(\n        React.Children.toArray(children),\n        (child: React.ReactElement, index) => {\n          return (\n            <div\n              key={index}\n              className={'img '}\n              style={\n                isHovering\n                  ? { ...child.props.isHovering }\n                  : { ...child.props.default }\n              }\n              onMouseOver={handleMouseOver}\n              onMouseOut={handleMouseOver}\n            >\n              {child.props.children}\n            </div>\n          )\n        }\n      )}\n    </div>\n  )\n}\n"],"names":["React"],"mappings":"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"}